<!doctype>
<head>
<link type="text/css" rel="stylesheet" href="/static/dash.css">
<script src="/static3/dygraph/dygraph-combined.js"></script>
<script src="/static3/js-expression-eval/parser.js"></script>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
  //google.load('visualization', '1', {packages: ['gauge']});
  google.load('jquery', '1.7.0');
</script>
</head>
<body>

<div id="controls">
  <span id="title"></span>
  <span id="buttons">
    <span class="bt-group">
      <input type="checkbox" id="ct-update" checked=checked onclick="toggleUpdates()">Live updates</input>
      <input type="checkbox" checked=checked id="ct-sync-graphs" onclick="toggleSync()">Sync zooms</input>
      <input type="checkbox" checked=checked id="ct-pull-on-pan" onclick="togglePullOnPan()">Auto fetch</input>
    </span>

    <span class="bt-group">
      Zoom:
      <button onclick="setLast(24*60*60)">-1d</button>
      <button onclick="setLast(60*60)">-1h</button>
      <button onclick="setLast(15*60)">-15m</button>
      <button onclick="setLast(60)">-60s</button>
    </span>

    <!--span class="bt-group">
    Load:
    <button onclick="loadMore(365*24*60*60, '43200s')">1y</button>
    <button onclick="loadMore(31*24*60*60, '3600s')">1m</button>
    <button onclick="loadMore(7*24*60*60, '600s')">1w</button>
    <button onclick="loadMore(24*60*60, '60s')">1d</button>
    <button onclick="loadMore(60*60, '15s')">1h</button>
    </span-->

    <span class="bt-group">
      View:
      <button onclick="loadFromZoom(false)">Fetch</button>
      <!--button onclick="loadFromZoom(true)">Full</button-->
    </span>

    <span class="bt-group bt-group-end">
      <button onclick="shareView()">Share view</button>
    </span>
  </span>
</div>

<div id="graphs"></div>
<div id="loading">Loading...</div>

<script src="/static/dash.js"></script>
<script>
function main() {
  parseOpts();
  if (opts.is_test) {
    setupTestDashboard();
  } else {
    setupDashboard();
  }
}

main();
</script>
